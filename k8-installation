K8s ( Kubeadm )installation on ubuntu 20.04 Aws Instance
Prerequisite :
Create minimum 2 AWS t2.medium instance of ubuntu 20.04
Add all traffic in Security Group
Commands to Run on Master & Slave Machine
Install Docker on all Machines
sudo apt update
sudo apt update install docker.io -y
Verify Docker is Install in all machine
docker --version
Create a script file in all machine
sudo nano a.sh
Paste the below commands in a.sh
sudo apt update
sudo apt upgrade -y
sudo apt install -y curl apt-transport-https ca-certificates software-properties-common
curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
sudo add-apt-repository "deb http://apt.kubernetes.io/ kubernetes-xenial main"
sudo swapoff -a
sudo apt update
sudo apt install -y kubelet kubeadm kubectl
Save and exit the file
Ctrl + s & Ctrl + x
Run the a.sh file in all machine
bash a.sh
Verify if Kubeadm , Kubectl , Kubelet installed
Contact us: support@intellipaat.com / Â© Copyright Intellipaat / All rights reserved
which Kubeadm && which Kubectl && which Kubelet
In Master Machine
sudo su
Kubeadm init
In Slave Machines Paste the Token being a root user
In Master machine paste below command being a normal user
mkdir -p $HOME/.kube
sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
sudo chown $(id -u):$(id -g) $HOME/.kube/config
kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weavedaemonset-
k8s.yaml
kubectl get nodes -w
